#!/bin/sh
# ten plik jest w zasadzie parodi± prawdziwego skryptu ./configure.
# do³±czy³em go tylko po to, ¿eby potem nikt nie mia³ do mnie pretensji,
# ¿e program nie chce sie kompilowaæ, bo nie mo¿e znale¼æ <slang/slang.h>
# lub <sys/soundcard.h>
#
# (c) copyright 1998 wojtek kaniewski <wojtekka@logonet.com.pl>

echo -n "sprawdzam system... "
if [ `uname -s` != Linux ]; then
  echo "co¶ nietak"
  echo "b³±d: ten program zosta³ napisany dla systemu linux."
  exit
else
  echo "mo¿e byc"
fi

echo -n "sprawdzam biblioteki... "

if [ ! -f /usr/include/slang/slang.h ]; then
  echo "co¶ nietak"
  echo "b³±d: brak biblioteki slang."
  exit
else
  echo "mo¿e byc"
fi

echo -n "sk³adam Makefile... "

cat << EOF > Makefile
CC = gcc -O2 -Wall
LIB = -lslang -I/usr/include -I/usr/include/slang -I/usr/local/include
DIR = /usr/bin
DOC = /usr/doc/mix-0.2

all:
	\$(CC) mix.c -o mix \$(LIB)

clean:
	rm mix

install:
	cp mix \$(DIR)
	mkdir \$(DOC)
	cp COPYING \$(DOC)
	cp README \$(DOC)
EOF

echo "gotowe"
echo
echo "przeczytaj zawarte w pliku README informacje na temat kompilacji i instalacji"
echo "i wpisz ,,make'' by skompilowaæ program, a potem ,,make install'' by"
echo "zainstalowaæ go w systemie."
echo
